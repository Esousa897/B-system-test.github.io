{% comment %} Geavanceerde Footer met newsletter, social links, en payment icons {% endcomment %}
<footer class="site-footer" data-footer>
  <!-- Newsletter Section -->
  {% if section.settings.show_newsletter %}
    <div class="footer-newsletter">
      <div class="container">
        <div class="newsletter-content">
          <div class="newsletter-text">
            <h3>{{ section.settings.newsletter_title | default: "Blijf op de hoogte" }}</h3>
            <p>{{ section.settings.newsletter_description | default: "Ontvang de laatste nieuwtjes en exclusieve aanbiedingen" }}</p>
          </div>
          
          <form class="newsletter-form" data-newsletter-form action="{{ routes.root_url }}contact#contact_form" method="post">
            <input type="hidden" name="form_type" value="customer">
            <input type="hidden" name="utf8" value="âœ“">
            <input type="hidden" name="contact[tags]" value="newsletter">
            
            <div class="newsletter-input-group">
              <input type="email" 
                     name="contact[email]" 
                     class="newsletter-input" 
                     placeholder="Je e-mailadres"
                     required
                     aria-label="E-mailadres voor nieuwsbrief">
              <button type="submit" class="newsletter-submit" aria-label="Aanmelden">
                <span class="submit-text">Aanmelden</span>
                <span class="submit-loading hidden">
                  <svg class="spinner" width="20" height="20" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2" opacity="0.3"/>
                    <path d="M12 2a10 10 0 0 1 10 10" fill="none" stroke="currentColor" stroke-width="2">
                      <animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" values="0 12 12;360 12 12"/>
                    </path>
                  </svg>
                </span>
              </button>
            </div>
            
            <div class="newsletter-message" data-newsletter-message hidden></div>
          </form>
        </div>
      </div>
    </div>
  {% endif %}

  <!-- Main Footer Content -->
  <div class="footer-main">
    <div class="container">
      <div class="footer-grid">
        <!-- Company Info -->
        <div class="footer-column footer-column--company">
          <div class="footer-logo">
            {% if section.settings.footer_logo != blank %}
              <img src="{{ section.settings.footer_logo | image_url: width: 200 }}" 
                   alt="{{ shop.name }}" 
                   width="{{ section.settings.footer_logo_width | default: 120 }}"
                   height="auto">
            {% else %}
              <span class="footer-logo-text">{{ shop.name }}</span>
            {% endif %}
          </div>
          
          {% if section.settings.footer_description != blank %}
            <div class="footer-description">
              {{ section.settings.footer_description }}
            </div>
          {% endif %}

          <!-- Contact Info -->
          <div class="footer-contact">
            {% if section.settings.footer_address != blank %}
              <div class="contact-item">
                <svg class="contact-icon" width="16" height="16" viewBox="0 0 24 24">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" fill="none" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="10" r="3" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>{{ section.settings.footer_address }}</span>
              </div>
            {% endif %}
            
            {% if section.settings.footer_phone != blank %}
              <div class="contact-item">
                <svg class="contact-icon" width="16" height="16" viewBox="0 0 24 24">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
                <a href="tel:{{ section.settings.footer_phone }}">{{ section.settings.footer_phone }}</a>
              </div>
            {% endif %}
            
            {% if section.settings.footer_email != blank %}
              <div class="contact-item">
                <svg class="contact-icon" width="16" height="16" viewBox="0 0 24 24">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" fill="none" stroke="currentColor" stroke-width="2"/>
                  <polyline points="22,6 12,13 2,6" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
                <a href="mailto:{{ section.settings.footer_email }}">{{ section.settings.footer_email }}</a>
              </div>
            {% endif %}
          </div>

          <!-- Social Links -->
          {% if section.settings.show_social_links %}
            <div class="footer-social">
              {% if settings.social_facebook_link != blank %}
                <a href="{{ settings.social_facebook_link }}" class="social-link" aria-label="Facebook" target="_blank" rel="noopener">
                  <svg width="20" height="20" viewBox="0 0 24 24">
                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" fill="currentColor"/>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.social_instagram_link != blank %}
                <a href="{{ settings.social_instagram_link }}" class="social-link" aria-label="Instagram" target="_blank" rel="noopener">
                  <svg width="20" height="20" viewBox="0 0 24 24">
                    <rect x="2" y="2" width="20" height="20" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="2"/>
                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" fill="none" stroke="currentColor" stroke-width="2"/>
                    <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2"/>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.social_twitter_link != blank %}
                <a href="{{ settings.social_twitter_link }}" class="social-link" aria-label="Twitter" target="_blank" rel="noopener">
                  <svg width="20" height="20" viewBox="0 0 24 24">
                    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" fill="currentColor"/>
                  </svg>
                </a>
              {% endif %}
              
              {% if settings.social_youtube_link != blank %}
                <a href="{{ settings.social_youtube_link }}" class="social-link" aria-label="YouTube" target="_blank" rel="noopener">
                  <svg width="20" height="20" viewBox="0 0 24 24">
                    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" fill="currentColor"/>
                    <polygon points="9.75,15.02 15.5,11.75 9.75,8.48" fill="white"/>
                  </svg>
                </a>
              {% endif %}
            </div>
          {% endif %}
        </div>

        <!-- Footer Menu Columns -->
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'menu' %}
              <div class="footer-column footer-column--menu" {{ block.shopify_attributes }}>
                {% if block.settings.title != blank %}
                  <h4 class="footer-column-title">{{ block.settings.title }}</h4>
                {% endif %}
                
                {% if block.settings.menu != blank %}
                  <ul class="footer-menu">
                    {% for link in linklists[block.settings.menu].links %}
                      <li class="footer-menu-item">
                        <a href="{{ link.url }}" class="footer-menu-link">{{ link.title }}</a>
                      </li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </div>
              
            {% when 'text' %}
              <div class="footer-column footer-column--text" {{ block.shopify_attributes }}>
                {% if block.settings.title != blank %}
                  <h4 class="footer-column-title">{{ block.settings.title }}</h4>
                {% endif %}
                
                {% if block.settings.content != blank %}
                  <div class="footer-text-content">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Footer Bottom -->
  <div class="footer-bottom">
    <div class="container">
      <div class="footer-bottom-content">
        <!-- Copyright -->
        <div class="footer-copyright">
          <p>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. Alle rechten voorbehouden.</p>
        </div>

        <!-- Payment Icons -->
        {% if section.settings.show_payment_icons %}
          <div class="footer-payment">
            <div class="payment-icons">
              {% for type in shop.enabled_payment_types %}
                {{ type | payment_type_svg_tag: class: 'payment-icon' }}
              {% endfor %}
            </div>
          </div>
        {% endif %}

        <!-- Footer Menu -->
        {% if section.settings.footer_bottom_menu != blank %}
          <nav class="footer-bottom-menu">
            {% for link in linklists[section.settings.footer_bottom_menu].links %}
              <a href="{{ link.url }}" class="footer-bottom-link">{{ link.title }}</a>
            {% endfor %}
          </nav>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- Back to Top -->
  <button class="back-to-top" data-back-to-top aria-label="Terug naar boven">
    <svg width="20" height="20" viewBox="0 0 24 24">
      <line x1="12" y1="19" x2="12" y2="5" stroke="currentColor" stroke-width="2"/>
      <polyline points="5,12 12,5 19,12" stroke="currentColor" stroke-width="2"/>
    </svg>
  </button>
</footer>

{% schema %}
{
  "name": "Footer",
  "tag": "footer",
  "class": "section-footer",
  "max_blocks": 6,
  "settings": [
    {
      "type": "header",
      "content": "Nieuwsbrief"
    },
    {
      "type": "checkbox",
      "id": "show_newsletter",
      "label": "Toon nieuwsbrief aanmelding",
      "default": true
    },
    {
      "type": "text",
      "id": "newsletter_title",
      "label": "Nieuwsbrief titel",
      "default": "Blijf op de hoogte"
    },
    {
      "type": "textarea",
      "id": "newsletter_description",
      "label": "Nieuwsbrief beschrijving",
      "default": "Ontvang de laatste nieuwtjes en exclusieve aanbiedingen"
    },
    {
      "type": "header",
      "content": "Bedrijfsinformatie"
    },
    {
      "type": "image_picker",
      "id": "footer_logo",
      "label": "Footer logo"
    },
    {
      "type": "range",
      "id": "footer_logo_width",
      "min": 80,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Logo breedte",
      "default": 120
    },
    {
      "type": "richtext",
      "id": "footer_description",
      "label": "Bedrijfsbeschrijving"
    },
    {
      "type": "text",
      "id": "footer_address",
      "label": "Adres"
    },
    {
      "type": "text",
      "id": "footer_phone",
      "label": "Telefoonnummer"
    },
    {
      "type": "text",
      "id": "footer_email",
      "label": "E-mailadres"
    },
    {
      "type": "checkbox",
      "id": "show_social_links",
      "label": "Toon social media links",
      "default": true
    },
    {
      "type": "header",
      "content": "Footer onderkant"
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Toon betaalmethodes",
      "default": true
    },
    {
      "type": "link_list",
      "id": "footer_bottom_menu",
      "label": "Footer onderkant menu"
    }
  ],
  "blocks": [
    {
      "type": "menu",
      "name": "Menu kolom",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Kolom titel"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    },
    {
      "type": "text",
      "name": "Tekst kolom",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Kolom titel"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Inhoud"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "menu",
        "settings": {
          "title": "Shop",
          "menu": "footer"
        }
      },
      {
        "type": "menu",
        "settings": {
          "title": "Klantenservice",
          "menu": "footer"
        }
      },
      {
        "type": "text",
        "settings": {
          "title": "Over ons",
          "content": "<p>Wij zijn gepassioneerd over het leveren van kwaliteitsproducten en uitstekende service.</p>"
        }
      }
    ]
  }
}
{% endschema %}
